# ModernTensor Aptos Configuration
# =================================
# Rename this file to .env to use with the project

# Aptos Network Configuration
APTOS_NODE_URL=https://fullnode.testnet.aptoslabs.com/v1
APTOS_FAUCET_URL=https://faucet.testnet.aptoslabs.com
APTOS_NETWORK=testnet
APTOS_CHAIN_ID=2

# Smart Contract Configuration
# Successfully deployed contract address (UPDATED with new key)
APTOS_CONTRACT_ADDRESS=0x9ba2d796ed64ea00a4f7690be844174820e0729de9f37fcaae429bc15ac37c04

# ============================================
# ACCOUNT CONFIGURATION - 5 KEYS TOTAL
# ============================================

# VALIDATOR 1 (Primary Validator - NEW KEY)
VALIDATOR_1_PRIVATE_KEY=D7BF95D09CBC52BA4D9BBF2C4A5A787495C7908ECA855CE97D4A23A772E80A62
VALIDATOR_1_ADDRESS=0x9ba2d796ed64ea00a4f7690be844174820e0729de9f37fcaae429bc15ac37c04
VALIDATOR_1_API_ENDPOINT=http://localhost:8001
VALIDATOR_1_PORT=8001

# MINER 1 (Contract Deployer - Primary Miner)
MINER_1_PRIVATE_KEY=0x90702114101ecca796263b0a1a884b2c83de73740c12359bc978e1e6f09ab438
MINER_1_ADDRESS=0x9ba2d796ed64ea00a4f7690be844174820e0729de9f37fcaae429bc15ac37c04
MINER_1_API_ENDPOINT=http://localhost:8100
MINER_1_PORT=8100

# VALIDATOR 2 (Secondary Validator)
VALIDATOR_2_PRIVATE_KEY=0xfd1b44dbaf2bf218d92c41c29915bd72109ee95886e863f0ff9124e689021cd8
VALIDATOR_2_ADDRESS=0x4dcd05a74ea9729d65a75379a8a4eb8e8f7fb440478dec715ac8fcbadf56acf5
VALIDATOR_2_API_ENDPOINT=http://localhost:8002
VALIDATOR_2_PORT=8002

# VALIDATOR 3 (Third Validator)
VALIDATOR_3_PRIVATE_KEY=0xf530fb22f73ba74cd2e8a66d57264e34470c07d29e67e3f485027acc72009d4c
VALIDATOR_3_ADDRESS=0x72c61e80cb7f2b350f81bffc590e415ebf5553699dd1babec3c5a3a067182d66

# MINER 2 (Secondary Miner)
MINER_2_PRIVATE_KEY=0xf530fb22f73ba74cd2e8a66d57264e34470c07d29e67e3f485027acc72009d4c
MINER_2_ADDRESS=0x72c61e80cb7f2b350f81bffc590e415ebf5553699dd1babec3c5a3a067182d66
MINER_2_API_ENDPOINT=http://localhost:8101
MINER_2_PORT=8101

# MINER 3 (Third Miner)
MINER_3_PRIVATE_KEY=0x4d37b47207c126859bf5c13a37d8e968e1eb489631ebaf750e0c20f414aef473
MINER_3_ADDRESS=0xea10e0e3fbf983d7e65cfb2963f769719027792df8c34ca0aa09e9aeb270cb9d
MINER_3_API_ENDPOINT=http://localhost:8102
MINER_3_PORT=8102

MINER_5_PRIVATE_KEY=0x4d37b47207c126859bf5c13a37d8e968e1eb489631ebaf750e0c20f414aef473
MINER_5_ADDRESS=0x54843ce23efe41eebb4d454f119ef59e0a3960be28ec9f461194effbdac639bb
MINER_5_API_ENDPOINT=http://localhost:8008
MINER_5_PORT=8008

# ============================================
# LEGACY COMPATIBILITY (for existing scripts)
# ============================================
# Main miner account used for contract deployment
MINER_PRIVATE_KEY=0x90702114101ecca796263b0a1a884b2c83de73740c12359bc978e1e6f09ab438
MINER_ADDRESS=0x9ba2d796ed64ea00a4f7690be844174820e0729de9f37fcaae429bc15ac37c04

# Validator Configuration (using ADMIN validator - VALIDATOR_1)
VALIDATOR_PRIVATE_KEY=D7BF95D09CBC52BA4D9BBF2C4A5A787495C7908ECA855CE97D4A23A772E80A62
VALIDATOR_ADDRESS=0x9ba2d796ed64ea00a4f7690be844174820e0729de9f37fcaae429bc15ac37c04

# API Configuration
API_PORT=8001
VALIDATOR_API_ENDPOINT=http://localhost:8001
SUBNET1_VALIDATOR_ID=subnet1_validator_001
SUBNET1_VALIDATOR_HOST=0.0.0.0
SUBNET1_VALIDATOR_PORT=8001

# API Endpoints for all accounts (matching test_config.env)
VALIDATOR_2_API_ENDPOINT=http://localhost:8002
VALIDATOR_3_API_ENDPOINT=http://localhost:8003
MINER_1_API_ENDPOINT=http://localhost:8100
MINER_2_API_ENDPOINT=http://localhost:8101

# Port Configuration
VALIDATOR_API_PORT_BASE=8001
MINER_API_PORT_BASE=8100
VALIDATOR_3_PORT=8003
MINER_3_PORT=8102

# Wallet & Key Management
HOTKEY_BASE_DIR=moderntensor
COLDKEY_NAME=kickoff
HOTKEY_NAME=hk1
HOTKEY_PASSWORD=sonlearn2003
ACCOUNT_BASE_DIR=accounts

# Encryption Settings
ENCRYPTION_PBKDF2_ITERATIONS=100000

# Logging Configuration
LOG_LEVEL=DEBUG

# Consensus Configuration
# Timing (Legacy)
CONSENSUS_CYCLE_LENGTH=120
CONSENSUS_QUERY_INTERVAL_SECONDS=0.5
CONSENSUS_COMMIT_OFFSET_SECONDS=30
CONSENSUS_TIMEOUT_OFFSET_SECONDS=60
CONSENSUS_BROADCAST_OFFSET_SECONDS=90

# === Cardano ModernTensor Style Slot Configuration ===
# Total slot duration (20 minutes for testing, 60 minutes for production)
MODERNTENSOR_SLOT_DURATION_MINUTES=20

# Phase timings within each slot (Cardano pattern)
MODERNTENSOR_TASK_ASSIGNMENT_MINUTES=15  # 0-15 minutes: Extended task assignment phase (75%)
MODERNTENSOR_TASK_EXECUTION_MINUTES=3    # 15-18 minutes: Quick task execution phase  
MODERNTENSOR_CONSENSUS_MINUTES=2         # 18-20 minutes: Fast consensus & update phase

# === Cardano Style Consensus Timing ===
# Timeout for waiting for consensus scores from other validators (3 minutes)
MODERNTENSOR_CONSENSUS_SCORE_WAIT_TIMEOUT=180

# Short timeout for P2P score broadcasts (5 seconds - Cardano pattern)
MODERNTENSOR_CONSENSUS_P2P_TIMEOUT=5

# How often to check slot phase changes (30 seconds)
MODERNTENSOR_CONSENSUS_SLOT_CHECK_INTERVAL=30

# Mini-batch Configuration
CONSENSUS_ENABLE_MINI_BATCH=true
CONSENSUS_MINI_BATCH_SIZE=5
CONSENSUS_TASK_TIMEOUT_SECONDS=60
CONSENSUS_ASSIGNMENT_PHASE_DURATION_MINUTES=10
CONSENSUS_MINI_BATCH_WAIT_SECONDS=30
CONSENSUS_TASKING_PHASE_RATIO=0.85
CONSENSUS_MINI_BATCH_INTERVAL_SECONDS=5

# Consensus Parameters
CONSENSUS_NUM_MINERS_TO_SELECT=5
CONSENSUS_PARAM_BETA=0.2
CONSENSUS_PARAM_MAX_TIME_BONUS=10
CONSENSUS_PARAM_DELTA_TRUST=0.01
CONSENSUS_PARAM_ALPHA_BASE=0.1
CONSENSUS_PARAM_K_ALPHA=1.0

# Network Configuration
CONSENSUS_NETWORK_TIMEOUT_SECONDS=10
CONSENSUS_MIN_VALIDATORS_FOR_CONSENSUS=2
METAGRAPH_DATUM_INT_DIVISOR=1000000.0

# Performance & Scoring
CONSENSUS_MAX_PERFORMANCE_HISTORY_LEN=100
CONSENSUS_DATUM_COMPARISON_TOLERANCE=0.00001
CONSENSUS_PARAM_PENALTY_ETA=0.1
CONSENSUS_JAILED_SEVERITY_THRESHOLD=0.2
CONSENSUS_PARAM_MAX_SLASH_RATE=0.05

# Weight Calculation
CONSENSUS_PARAM_DELTA_W=0.05
CONSENSUS_PARAM_LAMBDA_BALANCE=0.5
CONSENSUS_PARAM_STAKE_LOG_BASE=2.718281828459045
CONSENSUS_PARAM_TIME_LOG_BASE=10

# HTTP Client Settings
HTTP_CLIENT_TIMEOUT=30.0
HTTP_CLIENT_MAX_CONNECTIONS=100

# ModernTensor Specific Settings
MODERNTENSOR_VALIDATOR_UID=validator_001
MODERNTENSOR_MINER_UID=miner_001

# Database/Storage (if needed)
# DATABASE_URL=sqlite:///./moderntensor.db

# Development Settings
DEBUG=true
TESTING=false 